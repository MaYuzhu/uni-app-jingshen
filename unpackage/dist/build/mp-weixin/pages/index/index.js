(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1de4":function(t,e,a){},"3d08":function(t,e,a){"use strict";a.r(e);var l=a("881a"),n=a("7e8c");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);a("9e63");var d=a("2877"),u=Object(d["a"])(n["default"],l["a"],l["b"],!1,null,null,null);e["default"]=u.exports},"7e8c":function(t,e,a){"use strict";a.r(e);var l=a("f3bf"),n=a.n(l);for(var i in l)"default"!==i&&function(t){a.d(e,t,function(){return l[t]})}(i);e["default"]=n.a},"881a":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return l}),a.d(e,"b",function(){return n})},"9e63":function(t,e,a){"use strict";var l=a("1de4"),n=a.n(l);n.a},f3bf:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=n(a("7e4e"));function n(t){return t&&t.__esModule?t:{default:t}}var i,d=function(){return a.e("components/uni-icon/uni-icon").then(a.bind(null,"1830"))},u=null,r=null,v={data:function(){var t=this.uniGetDate({format:!0});return{porjectArr:[{title:"京张高铁边坡安全监测",apiUrl:"http://36.110.66.204:50002",buildcode:"1101F001",devcodeWeiyi:"1101F00100010O08",devcodeShidu:"1101F00100010K03"},{title:"京沈高铁边坡安全监测",apiUrl:"http://36.110.66.218:8091",buildcode:"1308F0001",devcodeWeiyi:"1308F00010010O09",devcodeShidu:"1308F00010010K01"},{title:"冬奥会边坡安全监测"}],cWidth:"",cHeight:"",pixelRatio:1,DataTest:[{buildcode:"1308F0001",devcode:"1308F00010010K01",devname:"T1",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.619,t:0,rh:20.8},time:"2019-04-22 12",type:null},{data:{v:3.622,t:0,rh:21.2},time:"2019-04-22 14",type:null},{data:{v:3.625,t:0,rh:21.35},time:"2019-04-22 16",type:null},{data:{v:3.625,t:0,rh:21.15},time:"2019-04-22 18",type:null},{data:{v:3.625,t:0,rh:21.5},time:"2019-04-22 20",type:null},{data:{v:3.622,t:0,rh:21},time:"2019-04-22 22",type:null},{data:{v:3.622,t:0,rh:21.2},time:"2019-04-23 00",type:null},{data:{v:3.622,t:0,rh:20.95},time:"2019-04-23 02",type:null},{data:{v:3.622,t:0,rh:21.05},time:"2019-04-23 04",type:null},{data:{v:3.619,t:0,rh:20.85},time:"2019-04-23 06",type:null},{data:{v:3.619,t:0,rh:20.5},time:"2019-04-23 08",type:null},{data:{v:3.622,t:0,rh:20.95},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K02",devname:"T2",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.638,t:0,rh:26.2},time:"2019-04-22 11",type:null},{data:{v:3.641,t:0,rh:26.9},time:"2019-04-22 13",type:null},{data:{v:3.641,t:0,rh:27.2},time:"2019-04-22 15",type:null},{data:{v:3.644,t:0,rh:27},time:"2019-04-22 17",type:null},{data:{v:3.644,t:0,rh:26.5},time:"2019-04-22 19",type:null},{data:{v:3.644,t:0,rh:26.15},time:"2019-04-22 21",type:null},{data:{v:3.644,t:0,rh:26.1},time:"2019-04-22 23",type:null},{data:{v:3.644,t:0,rh:26},time:"2019-04-23 01",type:null},{data:{v:3.644,t:0,rh:25.4},time:"2019-04-23 03",type:null},{data:{v:3.644,t:0,rh:26},time:"2019-04-23 05",type:null},{data:{v:3.644,t:0,rh:25.6},time:"2019-04-23 07",type:null},{data:{v:3.644,t:0,rh:25.7},time:"2019-04-23 09",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K03",devname:"T3",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.599,t:0,rh:33.4},time:"2019-04-22 13",type:null},{data:{v:3.602,t:0,rh:33.4},time:"2019-04-22 15",type:null},{data:{v:3.602,t:0,rh:32.9},time:"2019-04-22 17",type:null},{data:{v:3.609,t:0,rh:32.9},time:"2019-04-22 19",type:null},{data:{v:3.606,t:0,rh:32.65},time:"2019-04-22 21",type:null},{data:{v:3.606,t:0,rh:32.4},time:"2019-04-22 23",type:null},{data:{v:3.606,t:0,rh:32.6},time:"2019-04-23 01",type:null},{data:{v:3.602,t:0,rh:32.65},time:"2019-04-23 03",type:null},{data:{v:3.606,t:0,rh:32.5},time:"2019-04-23 05",type:null},{data:{v:3.602,t:0,rh:32.65},time:"2019-04-23 07",type:null},{data:{v:3.602,t:0,rh:32.9},time:"2019-04-23 09",type:null},{data:{v:3.602,t:0,rh:32.8},time:"2019-04-23 11",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K04",devname:"T4",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.615,t:0,rh:24.35},time:"2019-04-22 11",type:null},{data:{v:3.615,t:0,rh:24.5},time:"2019-04-22 13",type:null},{data:{v:3.615,t:0,rh:24.65},time:"2019-04-22 15",type:null},{data:{v:3.619,t:0,rh:24.65},time:"2019-04-22 17",type:null},{data:{v:3.615,t:0,rh:24.5},time:"2019-04-22 19",type:null},{data:{v:3.619,t:0,rh:24.2},time:"2019-04-22 21",type:null},{data:{v:3.619,t:0,rh:24.55},time:"2019-04-22 23",type:null},{data:{v:3.619,t:0,rh:24.7},time:"2019-04-23 01",type:null},{data:{v:3.619,t:0,rh:24.85},time:"2019-04-23 03",type:null},{data:{v:3.615,t:0,rh:24.4},time:"2019-04-23 05",type:null},{data:{v:3.619,t:0,rh:24.45},time:"2019-04-23 07",type:null},{data:{v:3.619,t:0,rh:24.5},time:"2019-04-23 09",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K05",devname:"T5",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.631,t:0,rh:28.9},time:"2019-04-22 11",type:null},{data:{v:3.631,t:0,rh:31.4},time:"2019-04-22 13",type:null},{data:{v:3.635,t:0,rh:31.6},time:"2019-04-22 15",type:null},{data:{v:3.635,t:0,rh:24.8},time:"2019-04-22 16",type:null},{data:{v:3.635,t:0,rh:21.6},time:"2019-04-22 17",type:null},{data:{v:3.631,t:0,rh:21.25},time:"2019-04-22 19",type:null},{data:{v:3.631,t:0,rh:20.8},time:"2019-04-22 21",type:null},{data:{v:3.628,t:0,rh:20.25},time:"2019-04-22 23",type:null},{data:{v:3.628,t:0,rh:20.5},time:"2019-04-23 01",type:null},{data:{v:3.628,t:0,rh:20.25},time:"2019-04-23 03",type:null},{data:{v:3.628,t:0,rh:20.15},time:"2019-04-23 05",type:null},{data:{v:3.628,t:0,rh:19.95},time:"2019-04-23 07",type:null},{data:{v:3.631,t:0,rh:25.8},time:"2019-04-23 09",type:null},{data:{v:3.631,t:0,rh:31.2},time:"2019-04-23 11",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K06",devname:"T6",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.583,t:0,rh:20.75},time:"2019-04-22 12",type:null},{data:{v:3.586,t:0,rh:21.4},time:"2019-04-22 14",type:null},{data:{v:3.586,t:0,rh:21.4},time:"2019-04-22 16",type:null},{data:{v:3.586,t:0,rh:20.95},time:"2019-04-22 18",type:null},{data:{v:3.583,t:0,rh:20.9},time:"2019-04-22 20",type:null},{data:{v:3.583,t:0,rh:20.4},time:"2019-04-22 22",type:null},{data:{v:3.58,t:0,rh:20.4},time:"2019-04-23 00",type:null},{data:{v:3.58,t:0,rh:20.5},time:"2019-04-23 02",type:null},{data:{v:3.58,t:0,rh:20.35},time:"2019-04-23 04",type:null},{data:{v:3.58,t:0,rh:20},time:"2019-04-23 06",type:null},{data:{v:3.577,t:0,rh:20.15},time:"2019-04-23 08",type:null},{data:{v:3.58,t:0,rh:20.85},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K07",devname:"T7",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.596,t:0,rh:50.1},time:"2019-04-22 12",type:null},{data:{v:3.599,t:0,rh:51.45},time:"2019-04-22 14",type:null},{data:{v:3.602,t:0,rh:51.7},time:"2019-04-22 16",type:null},{data:{v:3.599,t:0,rh:50.8},time:"2019-04-22 18",type:null},{data:{v:3.599,t:0,rh:50.5},time:"2019-04-22 20",type:null},{data:{v:3.596,t:0,rh:49.65},time:"2019-04-22 22",type:null},{data:{v:3.593,t:0,rh:49.25},time:"2019-04-23 00",type:null},{data:{v:3.593,t:0,rh:48.6},time:"2019-04-23 02",type:null},{data:{v:3.59,t:0,rh:48.9},time:"2019-04-23 04",type:null},{data:{v:3.59,t:0,rh:47.9},time:"2019-04-23 06",type:null},{data:{v:3.593,t:0,rh:47.9},time:"2019-04-23 08",type:null},{data:{v:3.596,t:0,rh:48.6},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K08",devname:"T8",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.602,t:0,rh:15.35},time:"2019-04-22 12",type:null},{data:{v:3.599,t:0,rh:15.3},time:"2019-04-22 14",type:null},{data:{v:3.599,t:0,rh:14.85},time:"2019-04-22 16",type:null},{data:{v:3.602,t:0,rh:15.2},time:"2019-04-22 18",type:null},{data:{v:3.599,t:0,rh:14.95},time:"2019-04-22 20",type:null},{data:{v:3.596,t:0,rh:14.95},time:"2019-04-22 22",type:null},{data:{v:3.596,t:0,rh:15.4},time:"2019-04-23 00",type:null},{data:{v:3.599,t:0,rh:15.7},time:"2019-04-23 02",type:null},{data:{v:3.596,t:0,rh:15.3},time:"2019-04-23 04",type:null},{data:{v:3.596,t:0,rh:15.55},time:"2019-04-23 06",type:null},{data:{v:3.596,t:0,rh:15.5},time:"2019-04-23 08",type:null},{data:{v:3.602,t:0,rh:15.8},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010K09",devname:"T9",devalias:"温湿度计",type:"K",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.631,t:0,rh:20.15},time:"2019-04-22 12",type:null},{data:{v:3.631,t:0,rh:20.25},time:"2019-04-22 14",type:null},{data:{v:3.635,t:0,rh:20.1},time:"2019-04-22 16",type:null},{data:{v:3.631,t:0,rh:20.05},time:"2019-04-22 18",type:null},{data:{v:3.625,t:0,rh:19.25},time:"2019-04-22 20",type:null},{data:{v:3.625,t:0,rh:19.3},time:"2019-04-22 22",type:null},{data:{v:3.625,t:0,rh:18.95},time:"2019-04-23 00",type:null},{data:{v:3.622,t:0,rh:18.65},time:"2019-04-23 02",type:null},{data:{v:3.625,t:0,rh:18.95},time:"2019-04-23 04",type:null},{data:{v:3.622,t:0,rh:19.1},time:"2019-04-23 06",type:null},{data:{v:3.628,t:0,rh:19.2},time:"2019-04-23 08",type:null},{data:{v:3.631,t:0,rh:19.95},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010O10",devname:"L2",devalias:"位移计",type:"O",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.503,val_l:2331.25,l:-1.562},time:"2019-04-22 12",type:null},{data:{v:3.506,val_l:2331.25,l:-1.562},time:"2019-04-22 14",type:null},{data:{v:3.509,val_l:2331.25,l:-1.562},time:"2019-04-22 16",type:null},{data:{v:3.506,val_l:2331.25,l:-1.562},time:"2019-04-22 18",type:null},{data:{v:3.499,val_l:2331.25,l:-1.562},time:"2019-04-22 20",type:null},{data:{v:3.496,val_l:2331.25,l:-1.562},time:"2019-04-22 22",type:null},{data:{v:3.496,val_l:2331.25,l:-1.562},time:"2019-04-23 00",type:null},{data:{v:3.493,val_l:2332.812,l:0},time:"2019-04-23 02",type:null},{data:{v:3.49,val_l:2334.374,l:1.562},time:"2019-04-23 04",type:null},{data:{v:3.49,val_l:2334.374,l:1.562},time:"2019-04-23 06",type:null},{data:{v:3.496,val_l:2331.25,l:-1.562},time:"2019-04-23 08",type:null},{data:{v:3.499,val_l:2331.25,l:-1.562},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010O11",devname:"L3",devalias:"位移计",type:"O",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.561,val_l:2293.749,l:3.124},time:"2019-04-22 12",type:null},{data:{v:3.573,val_l:2293.749,l:3.124},time:"2019-04-22 14",type:null},{data:{v:3.577,val_l:2293.749,l:3.124},time:"2019-04-22 16",type:null},{data:{v:3.573,val_l:2293.749,l:3.124},time:"2019-04-22 18",type:null},{data:{v:3.573,val_l:2293.749,l:3.124},time:"2019-04-22 20",type:null},{data:{v:3.557,val_l:2293.749,l:3.124},time:"2019-04-22 22",type:null},{data:{v:3.551,val_l:2293.749,l:3.124},time:"2019-04-23 00",type:null},{data:{v:3.541,val_l:2293.749,l:3.124},time:"2019-04-23 02",type:null},{data:{v:3.541,val_l:2296.875,l:6.25},time:"2019-04-23 04",type:null},{data:{v:3.535,val_l:2296.875,l:6.25},time:"2019-04-23 06",type:null},{data:{v:3.538,val_l:2296.875,l:6.25},time:"2019-04-23 08",type:null},{data:{v:3.554,val_l:2293.749,l:3.124},time:"2019-04-23 10",type:null}]},{buildcode:"1308F0001",devcode:"1308F00010010O12",devname:"L4",devalias:"位移计",type:"O",ztype:null,status:"0",devlon:0,devlat:0,time:null,days:0,url:null,data:[{data:{v:3.59,val_l:2250,l:-9.375},time:"2019-04-22 12",type:null},{data:{v:3.602,val_l:2250,l:-9.375},time:"2019-04-22 14",type:null},{data:{v:3.602,val_l:2250,l:-9.375},time:"2019-04-22 16",type:null},{data:{v:3.593,val_l:2250,l:-9.375},time:"2019-04-22 18",type:null},{data:{v:3.577,val_l:2250,l:-9.375},time:"2019-04-22 20",type:null},{data:{v:3.573,val_l:2250,l:-9.375},time:"2019-04-22 22",type:null},{data:{v:3.561,val_l:2253.125,l:-6.25},time:"2019-04-23 00",type:null},{data:{v:3.554,val_l:2253.125,l:-6.25},time:"2019-04-23 02",type:null},{data:{v:3.557,val_l:2253.125,l:-6.25},time:"2019-04-23 04",type:null},{data:{v:3.551,val_l:2253.125,l:-6.25},time:"2019-04-23 06",type:null},{data:{v:3.554,val_l:2251.562,l:-7.813},time:"2019-04-23 08",type:null},{data:{v:3.586,val_l:2250,l:-9.375},time:"2019-04-23 10",type:null}]}],Data:{LineA:{categories:[],series:[]},LineB:{categories:[],series:[]}},startTime:"",endTime:"",devNum:"请选择设备",devArray:[],index:0,date:t,tableData:[]}},onLoad:function(e){i=this,t.getStorage({key:"userinfo",success:function(t){var a=t.data;i.list=a,console.log("数据是:"+i.list.username,e.porject)}}),wx.setNavigationBarTitle({title:i.porjectArr[e.porject].title}),this.cWidth=t.upx2px(750),this.cHeight=t.upx2px(500),this.startTime=this.getDate(this.getNowFormatDate(0),0,0,-1,0,0,0),this.endTime=this.getNowFormatDate(0),console.log(this.startTime,this.endTime),t.request({url:i.porjectArr[e.porject].apiUrl+"/zzcismp/tsd/getBuildDevsData.shtml",method:"POST",dataType:"json",data:{timetype:"hour",starttime:i.startTime,endtime:i.endTime,buildcode:i.porjectArr[e.porject].buildcode},success:function(t){console.log(t);for(var e=i.DataTest.filter(function(t){return"O"==t.type}),a=i.DataTest.filter(function(t){return"K"==t.type}),l=0;l<i.DataTest.length;l++)i.devArray.push(i.DataTest[l].devname);for(var n=[],d=0;d<e[0].data.length;d++)n.push(e[0].data[d].time.slice(5));i.Data.LineA.categories=n,i.Data.LineB.categories=n;for(var u=[],r=0;r<e.length;r++){var v=[];u.push({name:e[r].devname,data:v});for(var p=0;p<e[0].data.length;p++)v.push(e[r].data[p].data.l)}i.Data.LineA.series=u;for(var o=[],m=0;m<a.length;m++){var y=[];o.push({name:a[m].devname,data:y});for(var h=0;h<a[0].data.length;h++)y.push(a[m].data[h].data.rh)}i.Data.LineB.series=o;for(var s=0;s<a[0].data.length;s++)i.tableData.push({name:s+1,title:a[0].data[s].data.rh,date:a[0].data[s].time})},fail:function(){t.showToast({icon:"none",title:"网络异常,请稍后重试"})},complete:function(){}})},onReady:function(){this.showLineA("canvasLineA",this.Data.LineA),this.showLineB("canvasLineB",this.Data.LineB)},methods:{showLineA:function(t,e){u=new l.default({canvasId:t,type:"line",fontSize:11,legend:!0,dataLabel:!1,background:"#FFFFFF",pixelRatio:i.pixelRatio,categories:e.categories,series:e.series,animation:!0,enableScroll:!1,xAxis:{disableGrid:!0,itemCount:4},yAxis:{},width:i.cWidth*i.pixelRatio,height:i.cHeight*i.pixelRatio,dataPointShape:!0,extra:{lineStyle:"straight"}}),r=new l.default({canvasId:t,type:"line",fontSize:11,legend:!0,dataLabel:!1,background:"#FFFFFF",pixelRatio:i.pixelRatio,categories:e.categories,series:e.series,animation:!0,enableScroll:!1,xAxis:{disableGrid:!0,itemCount:4},yAxis:{},width:i.cWidth*i.pixelRatio,height:i.cHeight*i.pixelRatio,dataPointShape:!0,extra:{lineStyle:"straight"}})},showLineB:function(t,e){r=new l.default({canvasId:t,type:"line",fontSize:11,legend:!0,dataLabel:!1,background:"#FFFFFF",pixelRatio:i.pixelRatio,categories:e.categories,series:e.series,animation:!0,enableScroll:!1,xAxis:{disableGrid:!0,itemCount:4},yAxis:{},width:i.cWidth*i.pixelRatio,height:i.cHeight*i.pixelRatio,dataPointShape:!0,extra:{lineStyle:"straight"}})},touchLineA:function(t){u.scrollStart(t)},moveLineA:function(t){u.scroll(t)},touchEndLineA:function(t){u.scrollEnd(t),u.showToolTip(t,{format:function(t,e){return t.name+":"+t.data}})},touchEndLineB:function(t){r.showToolTip(t,{format:function(t,e){return t.name+":"+t.data}})},getDate:function(t,e,a,l,n,i,d){t=t.replace(/-/g,"/");var u=new Date(t);e=u.getFullYear()+e,a=u.getMonth()+a,l=u.getDate()+l,n=u.getHours()+n,i=u.getMinutes()+i,d=u.getSeconds()+d,l=new Date(e,a,l,n,i,d);return this.getNowFormatDate(l)},getNowFormatDate:function(t){var e;e=0==t?new Date:new Date(t);var a="-",l=":",n=e.getMonth()+1,i=e.getDate();n>=1&&n<=9&&(n="0"+n),i>=0&&i<=9&&(i="0"+i);var d=e.getHours(),u=e.getMinutes(),r=e.getSeconds();d>=0&&d<=9&&(d="0"+d),u>=0&&u<=9&&(u="0"+u),r>=0&&r<=9&&(r="0"+r);var v=e.getFullYear()+a+n+a+i+" "+d+l+u+l+r;return v},bindPickerChange:function(t){console.log("picker发送选择改变，携带值为："+t.target.value),this.index=t.target.value,this.devNum=this.devArray[t.target.value]},uniGetDate:function(t){var e=new Date,a=e.getFullYear(),l=e.getMonth()+1,n=e.getDate();return"start"===t?a-=60:"end"===t&&(a+=2),l=l>9?l:"0"+l,n=n>9?n:"0"+n,"".concat(a,"-").concat(l,"-").concat(n)},bindDateChange:function(t){this.date=t.target.value}},components:{uniIcon:d},computed:{startDate:function(){return this.uniGetDate("start")},endDate:function(){return this.uniGetDate("end")}}};e.default=v}).call(this,a("543d")["default"])}},[["fc91","common/runtime","common/vendor"]]]);